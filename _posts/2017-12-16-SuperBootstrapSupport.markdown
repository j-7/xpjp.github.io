---
layout: post
title:  "ブートストラップ導入手順（サポート用）"
date:   2017-12-16 14:20:00 +0900
categories: official
author: 依田
---
# ブートストラップ バッチ説明 (サポートの方向け)

## ブートストラップバッチの動き

連日ご対応お疲れ様です...

簡単にバッチファイルについて説明します。

こんな流れで動きます。  
① XP-qt.exe(ウォレット)が起動しているかチェック  
② ウォレットインストール先フォルダ(C:\Users\<ユーザ>\Appdata\Roaming\XP)の有無をチェック  
　　⇒隠しフォルダの設定関係なくチェックできます。  
　　　※インストール先を変更した方は未対応です。これまで通り手動の方法でお願いします  
③ コピーを実行  

## バッチファイルはどれか

ブートストラップを導入するバッチファイルですが、zipの中に同梱しています。  
このバッチファイルになります。歯車アイコンのやつです  
ダブルクリックで動きます。事前に何かインストールする必要はありません。  
※Windows7/8/10 なら動きます(Windows8,10は検証しました)  

![スクショ1]({{site.baseurl}}/images/bootstrap_support/batfile.png)

## どんな動きをする？

まず、成功パターンです。ダブルクリックしたら待つだけです。

![スクショ2]({{site.baseurl}}/images/bootstrap_support/copy_1.png)
![スクショ3]({{site.baseurl}}/images/bootstrap_support/copy_2.png)  
↑コピーが始まってます。強制上書きです。

![スクショ4]({{site.baseurl}}/images/bootstrap_support/normal_end.png)

 こんな感じで終わります。

続いては、エラーの画面を一通り説明します。

## エラー番号１

![スクショ5]({{site.baseurl}}/images/bootstrap_support/error1.png)

XP-Qtウォレットが起動しているかをチェックしています。  
これはエラー内容と対処法を載せているので大丈夫かと思いますが…

## エラー番号２

![スクショ6]({{site.baseurl}}/images/bootstrap_support/error2.png)

C:\Users\<ユーザ>\Appdata\Roaming\XP の有無をチェックします  
ウォレットの導入がまだか、インストール先を変更している可能性があります。  
今のところ対応できていないので、その場合は手動でブートストラップを入れて  
頂くことになります。スミマセン

## エラー番号 ３

![スクショ7]({{site.baseurl}}/images/bootstrap_support/error3_2.png)

ブートストラップのコピー失敗時に表示されます。  
ここが失敗パターンを予測できず、問い合わせとして多いかもしれません。  
Windowsのrobocopyという機能を使用して、コピーを実行しています。  
(「コピーに失敗しました」の後ろの番号は、robocopyの終了コードです)

バッチがあるフォルダにログファイル(bootstrap.log)を出力してますので、  
そちらを貼り付けてもらって原因特定できるかと思います。  
または、画面にも同様の内容が表示されていますので、キャプチャーでも大丈夫です

![スクショ8]({{site.baseurl}}/images/bootstrap_support/error3_1.png)

↑コピー中エラーが出たときはこんな感じで、おそらく日本語で原因が書かれているはずです。

また、このエラー番号 ３のときは、ユーザがフォルダを探さずに済むよう  
自動でC:\Users\<ユーザ>\Appdata\Roaming\XPを開くようにしました。  
隠しフォルダの設定は関係なく開きます。

コピーに失敗した対象のファイルを消したうえで、再度バッチファイルを実行してもらえばうまくいくと思います..

## robocopyについて

参考URLです  
[http://d.hatena.ne.jp/sikakura/20110127/1296102650](http://d.hatena.ne.jp/sikakura/20110127/1296102650)  
[https://pf-j.sakura.ne.jp/program/dos/doscmd/robocopy.htm](https://pf-j.sakura.ne.jp/program/dos/doscmd/robocopy.htm)


## エラー文言テキスト

一応エラー文言を載せておきます。  

 ***  
 *エラー番号 1*  

 
 XP-Qt ウォレットが起動しています。終了してください。  
  　  
 ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～  
　  
 ↓以下を試してください!↓  
　  
 対処法 1-1 ウォレットの画面を閉じる（×クリック）  
  　  
 だめなら↓  
　    
 対処法 1-2 右下タスクバーから XP-Qtウォレットアイコン（ピンクの丸いやつ） を  
 　　　　　 右クリック→「Exit」をクリックする  
  　  
 または  
　    
 対処法 1-3 キーボードの Ctrl + Shift + Esc 同時押しで タスクマネージャーを開き  
 　　　　　 プロセスタブから XP-Qt を右クリック→「タスクの終了」をクリック  
  
 ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～  

***
*エラー番号 2*  


「インストール先フォルダ」がありません！  

 ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～  
  
 ↓以下を試してください!↓  

 対処法 2-1 ウォレット（XP-qt.exe）を１度 起動、終了してください  
 　　　　　 フォルダが作成されるはずです  
　  
 対処法 2-2 インストール先を変更された場合は、申し訳ないですが  
 　　　　　 手動でのブートストラップ導入をお願いします。  

 ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～  
 
***  
 *エラー番号 3*  

  
 ブートストラップのコピーに失敗しました  (robocopy終了コード)  
  
 ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～  
  
 以下を試してください!  
　  
 対処法 3-1 blkindex.datが上書きできないという報告がありました。削除してみてから  
　　　　　 再度このファイルを実行してください  
　　　　　　#trouble_shooting  
　　　　　「ブートストラップを入れようとしたら、blkindex.datが上書きできないよ！」を参照  
  
 対処法 3-2 このファイルを、右クリック→「管理者として実行」を実行してみてください  
            
 ※自動でコピー先フォルダを開きます  
 ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～  


以上になります。

質問、要望がありましたら @ett までお願いします。  

**今後ノード自動追加できるようにも対応しますので、しばしお待ちを...**  
